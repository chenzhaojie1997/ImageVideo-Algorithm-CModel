# 超分方法的分类及优缺点
超分方法大概可以分成以下三类  
1. 插值方法。最邻近插值、双线性插值、双三次插值、Lanczos等  
2. 基于重建的方法。例如使用迭代反投影法、稀疏编码方法等  
3. 深度学习方法。例如开山之作SRCNN等

性能上看：插值 < 重建 < 深度学习  
算力上看：插值 < 重建 < 深度学习  
产品上看：重建 < 深度学习 < 插值  

# 超分方法的落地
1. 插值方法实现简单、便于硬件用流水线的方式实时实现，是业界平衡算力和性能的首选方案。而且插值方法能实现任意倍率的缩放，而一个神经网络模型往往只能实现一种缩放倍率，要实现任意倍率缩放还需要在神经网络模型后端放置一个插值模型。从此角度上看，插值模块并不会因为深度学习在学界的流行而式微。  
2. 重建是一种比较尴尬的方法，论性能不如深度学习方法，论算力比插值方法更大，且硬件实现上也不一定友好。所以目前看到似乎较少有产品落地。  
3. 深度学习方案的性能很优秀，因此在学界相当流行，目前已经从CNN方案卷到了transformer方案。但是其缺点是算力要求较大，终端落地吃力。  
   3.1 深度学习模型的落地  
   深度学习模型的实际运算速度与计算平台的算力FLOP/s、带宽Byte/s息息相关。深度学习模型的时间复杂度受限于前者，空间复杂度则受限于后者（关于这部分的知识可以参考https://zhuanlan.zhihu.com/p/34204282）。在落地神经网络的设计中，如何降低时间复杂度（把大模型砍成小模型同时保持性能等），降低空间复杂度（下采样等）是一个需要在算法模型输出阶段确定的事情，总的来说要把成本降低到可接受范围内。通过压缩等方式降数据交互次数和通过并行等手段提升带宽是后面是事情了。  
   一般来说，手机上的NPU算力在几T到几十T量级之间，图像处理类模型可以在允许条件下“奢侈”一些。如果是落地在芯片端，有硬化网络和NPU两条路线。对于一些传统的芯片，往往没有NPU，那么NPU使用网络的路线也就无从谈起。但是对于自动驾驶芯片、AI芯片等芯片来说，有NPU，可以使用NPU部署网络。  
   3.2 超分模型的落地  
   超分模型相比其他low-level类模型有一个特殊的地方。去噪、去雾等CNN网络通常会基于多尺度的架构，在网络结构内不断上下采样。但是超分模型由于本身要求提升尺度，所以大多数的CNN模型并不会下采样后再融合不同尺度信息，而是会只在原尺度上进行特征提取等操作。这导致两点：超分模型比其他模型需要的算力更大；超分模型数据交换比其他模型更频繁。  
   在low-level领域，超分基本上是CNN网络的"斗兽场"，许多low-levle领域通用的网络结构（RDB等）起初都是从超分中来的。所以学术界领先的超分模型一般都相当卷，算力要求很大，对于终端落地意义不大。“经实测，近十年公开报道的超分技术无一能在移动端实时通话中运行起来，更不能谈及覆盖更广的移动端机型，而业界最低运算量(PAN2020)的超分模型，也很难实时跑起来，使得机型覆盖率极度有限，某友商超分任务覆盖不足 50 款指定高端旗舰机型，而某大厂基于谷歌 RAISR 方法优化的效果不足以保证。”（https://zhuanlan.zhihu.com/p/458571963）  
4. 超分的落地场景并不好找。在ISP通路中一般会使用更适应硬化的插值来满足要求，即使想要极致提升画质也最多只能接受十几或者几十Gflops的模型。在移动端的实时通信中，一方面要求超分的算力不能太大，另一方面超分一般放在接收端的后处理中，此时数据已经经过发送端的压缩，要提升画质的首选应该是从压缩方面入手，而不是在后处理上找补。超分有点像“从有损数据中解压”，本身成本很高难度很大，恐怕收益有限。  

# 超分方法的行业产品
1. 插值方法的产品相当多，基本上所有具有缩放功能的终端都会有插值功能，有硬件实现也有软件实现。  
2. 重建方法目前看到的产品似乎并不多。 字节跳动智能创作团队使用传统机器学习的方案最终支持端上实时低功耗运行720p/1080p超分。 
3. 深度学习方法  
   3.1 移动端实时超分
   移动端上的处理，难度大，意义深。即构科技ZEGO自研超分模型，性能@Set5/运算量flops，36.54PSNR@0.24G。（https://zhuanlan.zhihu.com/p/458571963）  
   字节跳动智能创作团队实现 720p、1080p 35fps视频在移动端上实时低功耗运行。当前端上实时超分方案已在抖音、头条、西瓜等多个业务的视频消费场景落地。（https://juejin.cn/post/7052621126358269983）  
   3.2 游戏端侧的实时超分
   蔚领时代实现了端侧的AI超分技术，720p到端侧实时超分可以达到2K画质，1080p到端侧超分提升至4K画质，已经在原神上落地60fps。【这个应用可以减少游戏引擎渲染资源，很耳目一新的场景】
   联发科的移动端游戏超分技术能够实现1.5倍分辨率缩放，720P可以提升到1080P。缓解了玩家在游玩游戏过程中由于高画质带来的高功耗问题，玩家在移动端游玩高画质游戏情况下仍然保持较低功耗。（https://news.mydrivers.com/1/820/820323.htm）
   3.3 端云协同方案
   这里方案主要用于人工后处理图像。各软件都可以做，算力限制会放宽些，但是其意义似乎就低了很多。

# 项目实现算法
1. 插值方向
   Lanczos、双三次算法（GTP实现）
   NEDI插值算法
2. 重建方向
   无
3. 深度学习方向
   CNN——性能优先调网络
   CNN——算力优先调网络